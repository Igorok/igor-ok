{% extends 'AdminCrudBundle::layout.html.twig' %}
{% block script %}
    <script>
        $(function(){
            $('.adminMenu > li').removeClass('active');
            $('.postLi').addClass('active');
        })
    </script>
{% endblock script %}
    
    
{% block body -%}
    <h1>
        Управление статьми
    </h1>
    <p>
        <a href="{{ path('post_new') }}" class="btn btn-default">
          <span class="glyphicon glyphicon-edit"></span> 
          Создать статью
        </a>
    </p>
    <p>&nbsp;</p>
    
    <div class="container">  
        <div class="row">  
            <div class="col-md-4">
                {{ knp_pagination_render(pagination)}}
            </div>
            <div class="col-md-4 col-md-offset-4 countPager">
                Всего статей - {{ pagination.getTotalItemCount }}
            </div>
        </div>
    </div>
    
    <div class="container">
        <div class="row">
            <div class="col-md-1"><strong>Id</strong></div>
            <div class="col-md-1"><strong>Заголовок</strong></div>
            <div class="col-md-1"><strong>Url статьи</strong></div>
            <div class="col-md-1"><strong>Meta keywords</strong></div>
            <div class="col-md-1"><strong>Meta description</strong></div>
            <div class="col-md-3"><strong>Краткое описание</strong></div>
            <div class="col-md-1"><strong>Картинка</strong></div>
            <div class="col-md-1"><strong>Дата написания статьи</strong></div>
            <div class="col-md-2"><strong>Действия</strong></div>
        </div>
        <!-- -->
        {% for onePost in pagination %}
        <div class="row">
            <div class="col-md-1"><strong><a href="{{ path('post_show', { 'id': onePost.id }) }}">{{ onePost.id }}</a></strong></div>
            <div class="col-md-1">{{ onePost.title }}</div>
            <div class="col-md-1">{{ onePost.posturl }}</div>
            <div class="col-md-1">{{ onePost.metakeywords }}</div>
            <div class="col-md-1">{{ onePost.metadescription }}</div>
            <div class="col-md-3">{{ onePost.shortdescription }}</div>
            <div class="col-md-1">
                {%if onePost.image %}
                    <img src="{{ onePost.image.path }}" alt="{{ onePost.title}}" class="img-rounded" />
                {% endif %}
            </div>
            <div class="col-md-1">{% if onePost.createdtime %}{{ onePost.createdtime|date('Y-m-d H:i:s') }}{% endif %}</div>
            <div class="col-md-2">
                <!-- Single button -->
                <div class="btn-group">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                    Действия <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                    <li>
                        <a href="{{ path('post_show', { 'id': onePost.id }) }}">Показать</a>
                    </li>
                    <li>
                        <a href="{{ path('post_edit', { 'id': onePost.id }) }}">Редактировать</a>
                    </li>                  
                    </ul>
                </div>
            </div>


        </div>
        {% endfor %}
        <!-- -->

        <p>&nbsp;</p>
        <!-- -->     
        <div class="container">  
            <div class="row">  
                <div class="col-md-4 clearfix">
                    {{ knp_pagination_render(pagination)}}
                </div>
            </div>
        </div>
        <!-- -->
        <p>&nbsp;</p>
    </div>

    
    {% endblock %}
